sensor:
  - platform: modbus_controller
    modbus_controller_id: powersupply
    address: 10
    name: "turnon_hours"
    id: turnon_hours
    unit_of_measurement: "hours"
    register_type: holding
    value_type: U_WORD
    internal: true
  
  - platform: modbus_controller
    modbus_controller_id: powersupply
    address: 11
    name: "turnon_minutes"
    id: turnon_minutes
    unit_of_measurement: "minutes"
    register_type: holding
    value_type: U_WORD
    internal: true
  
  - platform: modbus_controller
    modbus_controller_id: powersupply
    address: 12
    name: "turnon_seconds"
    id: turnon_seconds
    unit_of_measurement: "seconds"
    register_type: holding
    value_type: U_WORD
    internal: true


text_sensor:
  - platform: template
    name: "Turn On Time"
    lambda: |-
      char buffer[16];
      std::string ton_time;
      std::snprintf(buffer, 16, "%02d:%02d:%02d" , (int)id(turnon_hours).state, (int)id(turnon_minutes).state, (int)id(turnon_seconds).state);
      ton_time = buffer;
      
      return {ton_time};
    update_interval: 1s
